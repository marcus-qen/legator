# v1.0.0-alpha.18 — Stage 2 completion (capacity policy explainability)

Release date: 2026-02-28

## Highlights

### 1) Stage 2.3 operator explainability panel
- Added an approval-queue explainability panel in `/approvals` to surface why policy produced `allow` / `queue` / `deny` decisions.
- Panel includes:
  - decision badge (`policy_decision`)
  - human summary (`policy_rationale.summary`)
  - capacity indicators (availability, datasource count, dashboard/query coverage)
  - per-indicator severity/effect and `drove_outcome` attribution
  - expandable machine-readable JSON payload for exact triage/export

### 2) API/UI integration hardening
- Queued approval records now persist Stage 2.2 fields:
  - `policy_decision`
  - `policy_rationale`
- `GET /api/v1/approvals` and `GET /api/v1/approvals/{id}` now return explainability metadata for operator flows when available.
- Route contracts remain backward compatible (additive-only fields).

### 3) Release hardening
- Added tests for explainability propagation from policy evaluation to approval queue payloads.
- Added approvals template guard tests to lock panel and rationale rendering anchors.
- Extended smoke path coverage (`hack/e2e-test.sh`) to verify explainability payloads and approvals UI marker path.

## Validation checklist
- `go test ./...` (pre-change baseline) ✅
- `go test ./...` (post-change) ✅
- `make >/tmp/make.log && ./hack/e2e-test.sh` ✅

## Upgrade notes
- No database migration required.
- Existing approval clients continue to work unchanged.
- New explainability fields are optional and additive.
