# v1.0.0-alpha.32 â€” Stage 3.8.3 automation packs guarded execution + rollback hooks

## Highlights

### 1) Guarded execution runtime for stored automation packs

Added execution runtime to run stored definitions in ordered step sequence with workflow + per-step status tracking.

New additive endpoints:

- `POST /api/v1/automation-packs/{id}/executions`
- `GET /api/v1/automation-packs/executions/{executionID}`

### 2) Policy + approval guardrails before mutating steps

Execution now enforces existing guardrails before mutating actions are dispatched:

- policy outcomes (`allow|queue|deny`) from existing policy simulation path
- workflow-level and step-level approval requirements

`queue`/`deny` and unmet approvals block execution with explicit failure metadata.

### 3) Timeout/retry controls and attempt-level tracking

Added additive step execution controls:

- `steps[].timeout_seconds`
- `steps[].max_retries`

Runtime enforces bounded retry behavior and records attempt-level statuses (`succeeded|failed|timed_out`).

### 4) Rollback hooks on failure

Added additive rollback hook schema:

- `steps[].rollback.action`
- `steps[].rollback.parameters`
- `steps[].rollback.timeout_seconds`

On step failure/block, runtime triggers rollback callbacks in reverse order for previously-succeeded steps and records rollback outcomes.

### 5) Coverage + docs/contracts

Added tests for:

- successful execution flow
- timeout/retry handling
- rollback chain execution on failure
- policy + approval blocking behavior

Updated:

- `docs/automation-packs.md`
- `README.md` API + feature references
- `docs/contracts/api-v1-stable-routes.txt`
- `CHANGELOG.md`

## Compatibility

- [compat:additive] Added execution routes and additive automation-pack schema fields for runtime controls/rollback hooks without removing or renaming existing REST/MCP identifiers.
