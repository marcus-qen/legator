# v1.0.0-alpha.27 â€” Stage 3.7.2 federation query/filter parity

## Highlights

### 1) Federation filter semantics extended and normalized

- Added additive `search` filtering to federation inventory/summary reads.
- Enforced consistent federation filter behavior (`source`, `cluster`, `site`, `tag`, `status`, `search`) at the federation aggregator layer so behavior remains consistent even when adapters only partially filter.
- Added federated aggregate `tag_distribution` for cross-source tag rollups.

### 2) MCP federation parity surfaces

- Added MCP federation tools:
  - `legator_federation_inventory`
  - `legator_federation_summary`
- Added MCP federation resources:
  - `legator://federation/inventory`
  - `legator://federation/summary`
- Added resource query parsing so filter fields can be passed via URI query parameters.

### 3) Federation UI parity

- Added a dedicated `/federation` web UI view.
- Added shared filter controls for `source`, `cluster`, `site`, `tag`, `status`, `search`.
- UI now reads both federation inventory/summary endpoints with the same filter set.

### 4) Testing + contract updates

- Added federation filter semantics tests in the read model.
- Added server tests for federation query parsing and filtered inventory behavior.
- Added MCP federation tool/resource parity tests.
- Updated MCP stable surface contracts.

## Compatibility

- [compat:additive] Added MCP federation tools/resources and additive federation payload/query fields (`search`, `aggregates.tag_distribution`) while preserving existing API/MCP identifiers and behavior.
